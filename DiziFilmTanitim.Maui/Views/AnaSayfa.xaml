<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="DiziFilmTanitim.MAUI.Views.AnaSayfa"
             BackgroundColor="{StaticResource Background}">

       <Grid>
              <!-- Background Gradyan -->
              <Rectangle Fill="{StaticResource PrimaryGradient}"
                         Opacity="0.05"/>

              <ScrollView Padding="20">
                     <VerticalStackLayout Spacing="25">

                            <!-- Logo ve BaÅŸlÄ±k -->
                            <HorizontalStackLayout Spacing="10"
                                          Padding="5,0">
                                   <!-- Sadece Logo Turuncu -->
                                   <Border Background="{StaticResource PrimaryGradient}"
                                           StrokeThickness="0"
                                           StrokeShape="RoundRectangle 15"
                                           WidthRequest="30"
                                           HeightRequest="30">
                                          <Label Text="ðŸŽ¬"
                                                 FontSize="14"
                                                 HorizontalOptions="Center"
                                                 VerticalOptions="Center"
                                                 TextColor="White"/>
                                   </Border>

                                   <!-- BaÅŸlÄ±k ve AÃ§Ä±klama -->
                                   <VerticalStackLayout Spacing="1"
                                                 VerticalOptions="Center">
                                          <Label Text="Dizi Film Takip"
                                                 FontSize="16"
                                                 FontAttributes="Bold"
                                                 TextColor="{StaticResource TextPrimary}"/>

                                          <Label Text="En sevdiÄŸin filmleri ve dizileri keÅŸfet"
                                                 FontSize="11"
                                                 TextColor="{StaticResource TextSecondary}"/>
                                   </VerticalStackLayout>
                            </HorizontalStackLayout>



                            <!-- Film ve Dizi BÃ¶lÃ¼mÃ¼ Yan Yana -->
                            <Grid ColumnDefinitions="*,*"
                                  ColumnSpacing="15"
                                  RowDefinitions="Auto,*,Auto">

                                   <!-- Film BaÅŸlÄ±ÄŸÄ± -->
                                   <Grid Grid.Column="0"
                                         Grid.Row="0"
                                         ColumnDefinitions="*,Auto">
                                          <Label Grid.Column="0"
                                                 Text="ðŸŽ¬ Son Filmler"
                                                 FontSize="18"
                                                 FontAttributes="Bold"
                                                 TextColor="{StaticResource TextPrimary}"
                                                 VerticalOptions="Center"/>

                                          <Button Grid.Column="1"
                                                  Text="TÃ¼mÃ¼ >"
                                                  FontSize="12"
                                                  TextColor="{StaticResource Primary}"
                                                  BackgroundColor="Transparent"
                                                  Command="{Binding TumFilmlereGitCommand}"/>
                                   </Grid>

                                   <!-- Dizi BaÅŸlÄ±ÄŸÄ± -->
                                   <Grid Grid.Column="1"
                                         Grid.Row="0"
                                         ColumnDefinitions="*,Auto">
                                          <Label Grid.Column="0"
                                                 Text="ðŸ“º Son Diziler"
                                                 FontSize="18"
                                                 FontAttributes="Bold"
                                                 TextColor="{StaticResource TextPrimary}"
                                                 VerticalOptions="Center"/>

                                          <Button Grid.Column="1"
                                                  Text="TÃ¼mÃ¼ >"
                                                  FontSize="12"
                                                  TextColor="{StaticResource Primary}"
                                                  BackgroundColor="Transparent"
                                                  Command="{Binding TumDizilereGitCommand}"/>
                                   </Grid>

                                   <!-- Film KartlarÄ± -->
                                   <CollectionView Grid.Column="0"
                                                   Grid.Row="1"
                                                   ItemsSource="{Binding Filmler}"
                                                   IsVisible="{Binding FilmlerVarMi}"
                                                   HeightRequest="260">
                                          <CollectionView.ItemsLayout>
                                                 <LinearItemsLayout Orientation="Vertical"
                                                                    ItemSpacing="10"/>
                                          </CollectionView.ItemsLayout>

                                          <CollectionView.ItemTemplate>
                                                 <DataTemplate>
                                                        <Border Style="{StaticResource ModernCard}">
                                                               <Border.GestureRecognizers>
                                                                      <TapGestureRecognizer Command="{Binding Source={RelativeSource AncestorType={x:Type ContentPage}}, Path=BindingContext.FilmDetayinaGitCommand}"
                                                                                            CommandParameter="{Binding .}"/>
                                                               </Border.GestureRecognizers>

                                                               <Grid ColumnDefinitions="Auto,*"
                                                                     ColumnSpacing="10">
                                                                      <!-- Film AfiÅŸi -->
                                                                      <Border Grid.Column="0"
                                                                              StrokeThickness="0"
                                                                              StrokeShape="RoundRectangle 8"
                                                                              WidthRequest="80"
                                                                              HeightRequest="120"
                                                                              BackgroundColor="{StaticResource Surface}">
                                                                             <Image Source="{Binding AfisUrl}"
                                                                                    Aspect="AspectFill"/>
                                                                      </Border>

                                                                      <!-- Film Bilgileri -->
                                                                      <VerticalStackLayout Grid.Column="1"
                                                                                           Spacing="5"
                                                                                           Padding="5"
                                                                                           VerticalOptions="Center">
                                                                             <Label Text="{Binding Ad}"
                                                                                    FontSize="14"
                                                                                    FontAttributes="Bold"
                                                                                    TextColor="{StaticResource TextPrimary}"
                                                                                    LineBreakMode="TailTruncation"
                                                                                    MaxLines="2"/>

                                                                             <Label Text="{Binding YapimYiliText}"
                                                                                    FontSize="12"
                                                                                    TextColor="{StaticResource TextSecondary}"/>
                                                                      </VerticalStackLayout>
                                                               </Grid>
                                                        </Border>
                                                 </DataTemplate>
                                          </CollectionView.ItemTemplate>
                                   </CollectionView>

                                   <!-- Dizi KartlarÄ± -->
                                   <CollectionView Grid.Column="1"
                                                   Grid.Row="1"
                                                   ItemsSource="{Binding Diziler}"
                                                   IsVisible="{Binding DizilerVarMi}"
                                                   HeightRequest="260">
                                          <CollectionView.ItemsLayout>
                                                 <LinearItemsLayout Orientation="Vertical"
                                                                    ItemSpacing="10"/>
                                          </CollectionView.ItemsLayout>

                                          <CollectionView.ItemTemplate>
                                                 <DataTemplate>
                                                        <Border Style="{StaticResource ModernCard}">
                                                               <Border.GestureRecognizers>
                                                                      <TapGestureRecognizer Command="{Binding Source={RelativeSource AncestorType={x:Type ContentPage}}, Path=BindingContext.DiziDetayinaGitCommand}"
                                                                                            CommandParameter="{Binding .}"/>
                                                               </Border.GestureRecognizers>

                                                               <Grid ColumnDefinitions="Auto,*"
                                                                     ColumnSpacing="10">
                                                                      <!-- Dizi AfiÅŸi -->
                                                                      <Border Grid.Column="0"
                                                                              StrokeThickness="0"
                                                                              StrokeShape="RoundRectangle 8"
                                                                              WidthRequest="80"
                                                                              HeightRequest="120"
                                                                              BackgroundColor="{StaticResource Surface}">
                                                                             <Image Source="{Binding AfisUrl}"
                                                                                    Aspect="AspectFill"/>
                                                                      </Border>

                                                                      <!-- Dizi Bilgileri -->
                                                                      <VerticalStackLayout Grid.Column="1"
                                                                                           Spacing="5"
                                                                                           Padding="5"
                                                                                           VerticalOptions="Center">
                                                                             <Label Text="{Binding Ad}"
                                                                                    FontSize="14"
                                                                                    FontAttributes="Bold"
                                                                                    TextColor="{StaticResource TextPrimary}"
                                                                                    LineBreakMode="TailTruncation"
                                                                                    MaxLines="2"/>

                                                                             <Grid ColumnDefinitions="*,Auto">
                                                                                    <Label Grid.Column="0"
                                                                                           Text="{Binding YapimYiliText}"
                                                                                           FontSize="12"
                                                                                           TextColor="{StaticResource TextSecondary}"/>

                                                                                    <Label Grid.Column="1"
                                                                                           Text="{Binding DurumText}"
                                                                                           FontSize="10"
                                                                                           TextColor="{StaticResource Primary}"
                                                                                           FontAttributes="Bold"/>
                                                                             </Grid>
                                                                      </VerticalStackLayout>
                                                               </Grid>
                                                        </Border>
                                                 </DataTemplate>
                                          </CollectionView.ItemTemplate>
                                   </CollectionView>

                                   <!-- Film Yok MesajÄ± -->
                                   <Label Grid.Column="0"
                                          Grid.Row="2"
                                          Text="HenÃ¼z film eklenmemiÅŸ"
                                          FontSize="14"
                                          TextColor="{StaticResource TextSecondary}"
                                          HorizontalOptions="Center"
                                          IsVisible="{Binding FilmlerVarMi, Converter={StaticResource InverseBoolConverter}}"/>

                                   <!-- Dizi Yok MesajÄ± -->
                                   <Label Grid.Column="1"
                                          Grid.Row="2"
                                          Text="HenÃ¼z dizi eklenmemiÅŸ"
                                          FontSize="14"
                                          TextColor="{StaticResource TextSecondary}"
                                          HorizontalOptions="Center"
                                          IsVisible="{Binding DizilerVarMi, Converter={StaticResource InverseBoolConverter}}"/>
                            </Grid>

                            <!-- Ã–zellikler -->
                            <Border Style="{StaticResource ModernCard}">
                                   <VerticalStackLayout Spacing="15">
                                          <Label Text="âœ¨ Ã–zellikler"
                                                 FontSize="20"
                                                 FontAttributes="Bold"
                                                 TextColor="{StaticResource TextPrimary}"/>

                                          <VerticalStackLayout Spacing="12">
                                                 <Label Text="ðŸ¿ Film &amp; Dizi KeÅŸfet"
                                                        FontSize="16"
                                                        TextColor="{StaticResource TextPrimary}"/>
                                                 <Label Text="â­ Puanlama Sistemi"
                                                        FontSize="16"
                                                        TextColor="{StaticResource TextPrimary}"/>
                                                 <Label Text="ðŸ“ KiÅŸisel Listeler"
                                                        FontSize="16"
                                                        TextColor="{StaticResource TextPrimary}"/>
                                                 <Label Text="ðŸ” GeliÅŸmiÅŸ Arama"
                                                        FontSize="16"
                                                        TextColor="{StaticResource TextPrimary}"/>
                                          </VerticalStackLayout>
                                   </VerticalStackLayout>
                            </Border>

                            <!-- Loading -->
                            <ActivityIndicator IsVisible="{Binding IsBusy}"
                                               IsRunning="{Binding IsBusy}"
                                               Color="{StaticResource Primary}"/>

                     </VerticalStackLayout>
              </ScrollView>
       </Grid>

</ContentPage>